!function(a,b,c){"use strict";c.fn.maxHeight=function(a){a=a||!0;var d=[],e=this;return e.length<2?e:(e.each(function(){var a=c(this);a.height(""),"undefined"!==b.body.style.minHeight&&a.css("min-height",""),d.push(a.height()+parseFloat(a.css("padding-top")||0)+parseFloat(a.css("padding-bottom")||0)+parseFloat(a.css("border-top")||0)+parseFloat(a.css("border-bottom")||0))}).each(function(){var e=c(this);e.css("undefined"!==b.body.style.minHeight&&a?"min-height":"height",Math.max.apply(0,d)-("border-box"===e.css("box-sizing")?0:parseFloat(e.css("padding-top")||0)-parseFloat(e.css("padding-bottom")||0)-parseFloat(e.css("border-top")||0)-parseFloat(e.css("border-bottom")||0))+"px")}),e)};var d;d=function(){},d.utils=function(){},d.status=function(){},d.utils.testAttribute=function(a,c){var d=b.createElement(a);return c in d},d.utils.placeholderPollyfill=function(){c("input[placeholder], textbox[placeholder]").each(function(){var a=c(this),b=a.closest("form");""===a.val()&&a.val(a.attr("placeholder")),b.on("submit",function(){a.val()==a.attr("placeholder")&&a.val("")})}).on("focus",function(){var a=c(this);a.val()==a.attr("placeholder")&&a.val("")})},d.utils.rowFix=function(a,b){for(var c=a.length,d=0;c>d;)a.slice(d,d+b).maxHeight(),d+=b},d.status.extraSmall=function(a){a.matches&&(d.$homeTweets.length&&d.homeTweets(),d.$homeBanner.length&&d.$homeBanner.find(".slide").length>1&&"object"==typeof d.$homeBanner.data("cycle.opts")&&d.$homeBanner.cycle("pause"),d.isFlexbox||(d.utils.rowFix(c(".home-news-events>ul>li"),1),d.utils.rowFix(c(".summary-box"),1),d.utils.rowFix(c(".related-item"),1)))},d.status.small=function(a){a.matches&&(d.$homeTweets.length&&d.homeTweets(),d.$homeBanner.length&&d.$homeBanner.find(".slide").length>1&&"object"==typeof d.$homeBanner.data("cycle.opts")&&d.$homeBanner.cycle("pause"),d.isFlexbox||(d.utils.rowFix(c(".home-news-events>ul>li"),1),d.utils.rowFix(c(".summary-box"),1),d.utils.rowFix(c(".related-item"),1)))},d.status.medium=function(a){a.matches&&(d.$homeTweets.length&&d.homeTweets(),d.$homeBanner.length&&d.$homeBanner.find(".slide").length>1&&"object"!=typeof d.$homeBanner.data("cycle.opts")?d.homeBanner(!0):d.$homeBanner.find(".slide").length>1&&"object"==typeof d.$homeBanner.data("cycle.opts")&&d.$homeBanner.cycle("resume"),d.isFlexbox||(d.utils.rowFix(c(".home-news-events>ul>li"),1),d.utils.rowFix(c(".summary-box"),1),d.utils.rowFix(c(".related-item"),3)))},d.status.large=function(a){a.matches&&(d.$homeTweets.length&&d.homeTweets(),d.$homeBanner.length&&d.$homeBanner.find(".slide").length>1&&"object"!=typeof d.$homeBanner.data("cycle.opts")?d.homeBanner(!0):d.$homeBanner.length&&d.$homeBanner.find(".slide").length>1&&"object"==typeof d.$homeBanner.data("cycle.opts")&&d.$homeBanner.cycle("resume"),d.isFlexbox||(d.utils.rowFix(c(".home-news-events>ul>li"),3),d.utils.rowFix(c(".summary-box"),3),d.utils.rowFix(c(".related-item"),3)))},d.status.xl=function(a){a.matches&&(d.$homeTweets.length&&d.homeTweets(),d.$homeBanner.length&&d.$homeBanner.find(".slide").length>1&&"object"!=typeof d.$homeBanner.data("cycle.opts")?d.homeBanner(!0):d.$homeBanner.length&&d.$homeBanner.find(".slide").length>1&&"object"==typeof d.$homeBanner.data("cycle.opts")&&d.$homeBanner.cycle("resume"),d.isFlexbox||(d.utils.rowFix(c(".home-news-events>ul>li"),3),d.utils.rowFix(c(".summary-box"),3),d.utils.rowFix(c(".related-item"),3)))},d.init=function(){d.$body=c("body"),d.$printActions=c(".print"),d.$homeBanner=c(".home-banner"),d.$homeTweets=c(".home-tweets"),d.$accordion=c(".accordion"),d.$tableFix=c(".content table"),d.isFlexbox=!1,d.$body.addClass("js"),d.$accordion.length&&d.accordion(),d.$tableFix.length&&d.tableFix(),"function"==typeof matchMedia&&matchMedia("screen").addListener?(d.status.extraSmallMQ=matchMedia("(max-width: 400px)"),d.status.smallMQ=matchMedia("(min-width: 400px) and (max-width: 700px)"),d.status.mediumMQ=matchMedia("(min-width: 700px) and (max-width: 1000px)"),d.status.largeMQ=matchMedia("(min-width: 1000px) and (max-width: 1200px)"),d.status.xlMQ=matchMedia("(min-width: 1200px)"),d.status.extraSmallMQ.addListener(d.status.extraSmall),d.status.extraSmall(d.status.extraSmallMQ),d.status.smallMQ.addListener(d.status.small),d.status.small(d.status.smallMQ),d.status.mediumMQ.addListener(d.status.medium),d.status.medium(d.status.mediumMQ),d.status.largeMQ.addListener(d.status.large),d.status.large(d.status.largeMQ),d.status.xlMQ.addListener(d.status.xl),d.status.xl(d.status.xlMQ)):(d.status.xlMQ={matches:!0},d.status.largeMQ={matches:!1},d.status.mediumMQ={matches:!1},d.status.smallMQ={matches:!1},d.status.extraSmallMQ={matches:!1},d.status.xl({matches:!0})),d.$body.on("click",function(b){var e=c(b.target);e.is(d.$printActions)&&(a.print(),b.preventDefault())}),d.utils.testAttribute("input","placeholder")||d.utils.placeholderPollyfill(),(Modernizr.flexboxlegacy||Modernizr.flexbox)&&(d.isFlexbox=!0),d.social()},d.homeTweets=function(){var b;c(".home-info, .home-video").maxHeight(),d.status.xlMQ.matches===!0||d.status.largeMQ.matches===!0?b=c(".home-directory").height()+c(".home-video").height()+c(".home-news-events").height()+40:(d.status.mediumMQ.matches===!0||d.status.smallMQ.matches===!0||d.status.extraSmallMQ.matches===!0)&&(b=c(".home-news-events").height()-15),c(a).load(d.homeTweets),d.$homeTweets.find("iframe").load(d.homeTweets),d.$homeTweets.find("iframe").delay(800).height(b-d.$homeTweets.find("h2").height())},d.social=function(){c(".g-plusone").length&&(a.___gcfg={lang:"en-GB"},function(){var a=b.createElement("script"),c=b.getElementsByTagName("script")[0];a.type="text/javascript",a.async=!0,a.src="https://apis.google.com/js/plusone.js",c.parentNode.insertBefore(a,c)}()),(c(".twitter-timeline").length||c(".twitter-share-button").length)&&!function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="https://platform.twitter.com/widgets.js",e.parentNode.insertBefore(d,e))}(b,"script","twitter-wjs"),c(".fb-like").length&&!function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_GB/all.js#xfbml=1",e.parentNode.insertBefore(d,e))}(b,"script","facebook-jssdk")},d.homeBanner=function(b){var b=b||!0,e="banner-pause",f="banner-play",g=c('<div class="banner-controls"><div class="banner-pager"></div><span class="'+(b?e:f)+'">II</span></div>');c(a).load(function(){d.$homeBanner.append(g).cycle({fx:"scrollHorz",slides:">.slide",pauseOnHover:!0,swipe:!0,log:!1,speed:1e3,timeout:5e3,pager:".banner-pager"}),$(".banner-comment").each(function(){$(this).text().length<1&&$(this).remove()})}),g.on("click",">span",function(a){var b=c(this);b.hasClass(e)?(d.$homeBanner.cycle("pause"),b.removeClass(e).addClass(f)):(d.$homeBanner.cycle("resume"),b.removeClass(f).addClass(e)),a.preventDefault()})},d.accordion=function(){var a=c(".accordion-content");d.$accordion.each(function(){var a=c(this);a.find(".accordion-content").slice(1).hide()}).on("click","> h2",function(){var b=c(this);b.next(".accordion-content").slideDown({queue:"accord-anim"}).siblings(".accordion-content").slideUp({queue:"accord-anim"}),a.dequeue("accord-anim")})},d.tableFix=function(a){function b(a){-1!=a.html().indexOf("h1")||-1!=a.html().indexOf("h2")||-1!=a.html().indexOf("h3")||-1!=a.html().indexOf("h4")||-1!=a.html().indexOf("h5")||-1!=a.html().indexOf("h6")||a.attr("data-title",c[e])}var c=[],e=0,f=!0;d.$tableFix.each(function(){$(this).hasClass("fixed-table")||($(this).find("th").length>1?($(this).addClass("mobile-table"),$(this).find("th").each(function(){c.push($(this).text())}),$(this).find("tr").each(function(){$(this).find("td").each(function(){b($(this)),e+=1}),e=0})):!$(this).find("th").length&&$(this).find("tr:first td").length>1&&($(this).addClass("mobile-table"),$(this).find("tr").each(function(){1==f?($(this).addClass("trhead"),$(this).find("td").each(function(){c.push($(this).text())}),f=!1):$(this).find("td").each(function(){b($(this)),e+=1}),e=0}))),c=[],f=!0})},d.init()}(window,document,jQuery);